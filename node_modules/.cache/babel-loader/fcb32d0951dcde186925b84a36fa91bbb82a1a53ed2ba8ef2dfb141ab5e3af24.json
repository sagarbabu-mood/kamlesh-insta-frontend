{"ast":null,"code":"import React from'react';import{useState,useContext}from'react';import'../css/SignIn.css';import{Link,useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{LoginContext}from'../context/LoginContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){const{setUserLogin}=useContext(LoginContext);const navigate=useNavigate();const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");//Toast functions\nconst notifyA=msg=>toast.error(msg,{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"dark\"});const notifyB=msg=>toast.success(msg,{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"dark\"});const emailRegex=/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;async function logInFunc(){if(!emailRegex.test(email)){return notifyA(\"Invalid Email\");}const Url=\"/signin\";const options={method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})};const response=await fetch(Url,options);const data=await response.json();if(data.error){notifyA(data.error);}else{notifyB(data.message);localStorage.setItem(\"token\",data.token);localStorage.setItem(\"user\",JSON.stringify(data.user));setUserLogin(true);navigate(\"/\");}}return/*#__PURE__*/_jsx(\"div\",{className:\"signIn\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:\"Lobster\",fontSize:\"40px\"},children:\"Instagram\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",id:\"email\",placeholder:\"Email\",value:email,onChange:e=>{setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Password\",value:password,onChange:e=>{setPassword(e.target.value);}})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"login-btn\",value:\"Sign In\",onClick:()=>{logInFunc();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"loginForm2\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"don't have an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"span\",{style:{color:\"blue\",cursor:\"pointer\"},children:\"Sign Up\"})})]})})]})});}","map":{"version":3,"names":["React","useState","useContext","Link","useNavigate","toast","LoginContext","jsx","_jsx","jsxs","_jsxs","SignIn","setUserLogin","navigate","email","setEmail","password","setPassword","notifyA","msg","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","notifyB","success","emailRegex","logInFunc","test","Url","options","method","headers","body","JSON","stringify","response","fetch","data","json","message","localStorage","setItem","token","user","className","children","style","fontFamily","fontSize","type","name","id","placeholder","value","onChange","e","target","onClick","to","color","cursor"],"sources":["D:/insta-clone/backend/frontend/src/components/SignIn.js"],"sourcesContent":["import React from 'react'\r\nimport { useState, useContext} from 'react'\r\nimport '../css/SignIn.css'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport {toast } from 'react-toastify'\r\nimport {LoginContext} from '../context/LoginContext'\r\n\r\nexport default function SignIn() {\r\n  const {setUserLogin} = useContext(LoginContext)\r\n  const navigate = useNavigate()\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n\r\n    //Toast functions\r\n    const notifyA = msg => toast.error(msg, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      theme: \"dark\",\r\n      });\r\n    \r\n    const notifyB = msg => toast.success(msg, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      theme: \"dark\",\r\n      });\r\n\r\n  const emailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\r\n  async function  logInFunc() {\r\n  \r\n    if (!emailRegex.test(email)) {\r\n      return notifyA(\"Invalid Email\")\r\n    }\r\n\r\n    const Url = \"/signin\"\r\n    const options = {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        email:email,\r\n        password:password\r\n      })\r\n    }\r\n    const response = await fetch(Url,options)\r\n    const data = await response.json()\r\n    if(data.error){\r\n      notifyA(data.error)\r\n    }else{\r\n      notifyB(data.message)\r\n      localStorage.setItem(\"token\", data.token)\r\n      localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n      setUserLogin(true)\r\n      navigate(\"/\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='signIn'>\r\n      <div>\r\n      <div className='loginForm'>\r\n      <h1 style={{fontFamily:\"Lobster\",fontSize:\"40px\"}}>Instagram</h1>\r\n      <div>\r\n        <input type='text' name='email' id='email' placeholder='Email' value={email} onChange={(e) => {setEmail(e.target.value)}}/>\r\n      </div>\r\n      <div>\r\n        <input type='password' name='password' id='password' placeholder='Password' value={password} onChange={(e) => {setPassword(e.target.value)}}/>\r\n      </div>\r\n      <input type='submit' id='login-btn' value=\"Sign In\" onClick={() => {logInFunc()}}/>\r\n      </div>\r\n      <div className='loginForm2'>\r\n        <p>don't have an account ? <Link to=\"/signup\"><span style={{color:\"blue\",cursor:\"pointer\"}}>Sign Up</span></Link></p>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,UAAU,KAAO,OAAO,CAC3C,MAAO,mBAAmB,CAC1B,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAAQC,KAAK,KAAQ,gBAAgB,CACrC,OAAQC,YAAY,KAAO,yBAAyB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC/B,KAAM,CAACC,YAAY,CAAC,CAAGV,UAAU,CAACI,YAAY,CAAC,CAC/C,KAAM,CAAAO,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAE1C;AACA,KAAM,CAAAiB,OAAO,CAAGC,GAAG,EAAId,KAAK,CAACe,KAAK,CAACD,GAAG,CAAE,CACtCE,QAAQ,CAAE,WAAW,CACrBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,IAAI,CAClBC,YAAY,CAAE,IAAI,CAClBC,SAAS,CAAE,IAAI,CACfC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,MACP,CAAC,CAAC,CAEJ,KAAM,CAAAC,OAAO,CAAGX,GAAG,EAAId,KAAK,CAAC0B,OAAO,CAACZ,GAAG,CAAE,CACxCE,QAAQ,CAAE,WAAW,CACrBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,IAAI,CAClBC,YAAY,CAAE,IAAI,CAClBC,SAAS,CAAE,IAAI,CACfC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,MACP,CAAC,CAAC,CAEN,KAAM,CAAAG,UAAU,CAAG,+CAA+C,CAElE,cAAgB,CAAAC,SAASA,CAAA,CAAG,CAE1B,GAAI,CAACD,UAAU,CAACE,IAAI,CAACpB,KAAK,CAAC,CAAE,CAC3B,MAAO,CAAAI,OAAO,CAAC,eAAe,CAAC,CACjC,CAEA,KAAM,CAAAiB,GAAG,CAAG,SAAS,CACrB,KAAM,CAAAC,OAAO,CAAG,CACdC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB3B,KAAK,CAACA,KAAK,CACXE,QAAQ,CAACA,QACX,CAAC,CACH,CAAC,CACD,KAAM,CAAA0B,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACR,GAAG,CAACC,OAAO,CAAC,CACzC,KAAM,CAAAQ,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClC,GAAGD,IAAI,CAACxB,KAAK,CAAC,CACZF,OAAO,CAAC0B,IAAI,CAACxB,KAAK,CAAC,CACrB,CAAC,IAAI,CACHU,OAAO,CAACc,IAAI,CAACE,OAAO,CAAC,CACrBC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEJ,IAAI,CAACK,KAAK,CAAC,CACzCF,YAAY,CAACC,OAAO,CAAC,MAAM,CAACR,IAAI,CAACC,SAAS,CAACG,IAAI,CAACM,IAAI,CAAC,CAAC,CACtDtC,YAAY,CAAC,IAAI,CAAC,CAClBC,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAEA,mBACEL,IAAA,QAAK2C,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrB1C,KAAA,QAAA0C,QAAA,eACA1C,KAAA,QAAKyC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC1B5C,IAAA,OAAI6C,KAAK,CAAE,CAACC,UAAU,CAAC,SAAS,CAACC,QAAQ,CAAC,MAAM,CAAE,CAAAH,QAAA,CAAC,WAAS,CAAI,CAAC,cACjE5C,IAAA,QAAA4C,QAAA,cACE5C,IAAA,UAAOgD,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,OAAO,CAACC,EAAE,CAAC,OAAO,CAACC,WAAW,CAAC,OAAO,CAACC,KAAK,CAAE9C,KAAM,CAAC+C,QAAQ,CAAGC,CAAC,EAAK,CAAC/C,QAAQ,CAAC+C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAE,CAAC,CAAC,CACxH,CAAC,cACNpD,IAAA,QAAA4C,QAAA,cACE5C,IAAA,UAAOgD,IAAI,CAAC,UAAU,CAACC,IAAI,CAAC,UAAU,CAACC,EAAE,CAAC,UAAU,CAACC,WAAW,CAAC,UAAU,CAACC,KAAK,CAAE5C,QAAS,CAAC6C,QAAQ,CAAGC,CAAC,EAAK,CAAC7C,WAAW,CAAC6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAE,CAAC,CAAC,CAC3I,CAAC,cACNpD,IAAA,UAAOgD,IAAI,CAAC,QAAQ,CAACE,EAAE,CAAC,WAAW,CAACE,KAAK,CAAC,SAAS,CAACI,OAAO,CAAEA,CAAA,GAAM,CAAC/B,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9E,CAAC,cACNzB,IAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzB1C,KAAA,MAAA0C,QAAA,EAAG,0BAAwB,cAAA5C,IAAA,CAACL,IAAI,EAAC8D,EAAE,CAAC,SAAS,CAAAb,QAAA,cAAC5C,IAAA,SAAM6C,KAAK,CAAE,CAACa,KAAK,CAAC,MAAM,CAACC,MAAM,CAAC,SAAS,CAAE,CAAAf,QAAA,CAAC,SAAO,CAAM,CAAC,CAAM,CAAC,EAAG,CAAC,CAClH,CAAC,EACD,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}